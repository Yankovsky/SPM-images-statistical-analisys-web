<div class="new-topo-matrix"
     ng-class="{'container-fluid horizontal-layout': newTopoMatrixCtrl.horizontalLayout, 'container': !newTopoMatrixCtrl.horizontalLayout}">
    <div class="checkbox">
        <label>
            <input type="checkbox" ng-model="newTopoMatrixCtrl.horizontalLayout"
                   ng-change="topoMatrixCtrl.setHorizontalLayout()">Horizontal layout
        </label>
    </div>

    <div ng-class="{'row-fluid': newTopoMatrixCtrl.horizontalLayout, 'row': !newTopoMatrixCtrl.horizontalLayout}">
        <div class='matrix-container' ng-class="{'col-md-4': newTopoMatrixCtrl.horizontalLayout}">
            <matrix-image-slider matrix="::newTopoMatrixCtrl.topoMatrix"
                                 on-range-change="newTopoMatrixCtrl.calculateTopoMatrixImageData()"></matrix-image-slider>
            <ul class="matrix-image-blobs-container">
                <li class='blob'
                    ng-repeat="blob in newTopoMatrixCtrl.newTopoBlobs"
                    ng-style="{width: blob.width + 1, height: blob.height + 1, left: blob.x - 1, top: blob.y - 1}">
                </li>
            </ul>
            <matrix-image matrix-image-data="newTopoMatrixCtrl.topoMatrixImageData"></matrix-image>
        </div>

        <div class='matrix-container' ng-class="{'col-md-4': newTopoMatrixCtrl.horizontalLayout}">
            <matrix-image-slider matrix="::newTopoMatrixCtrl.newTopoMatrix"
                                 on-range-change="newTopoMatrixCtrl.calculateNewTopoMatricesImagesData()"></matrix-image-slider>
            <ul class="matrix-image-blobs-container">
                <li class='blob'
                    ng-repeat="blob in newTopoMatrixCtrl.newTopoBlobs"
                    ng-style="{width: blob.width + 1, height: blob.height + 1, left: blob.x - 1, top: blob.y - 1}">
                </li>
            </ul>
            <matrix-image matrix-image-data="newTopoMatrixCtrl.grayscaleNewTopoMatrixImageData"></matrix-image>
        </div>

        <div class='matrix-container no-slider' ng-class="{'col-md-4': newTopoMatrixCtrl.horizontalLayout}">
            <ul class="matrix-image-blobs-container">
                <li class='blob'
                    ng-repeat="blob in newTopoMatrixCtrl.newTopoBlobs"
                    ng-style="{width: blob.width + 1, height: blob.height + 1, left: blob.x - 1, top: blob.y - 1}">
                </li>
            </ul>
            <matrix-image matrix-image-data="newTopoMatrixCtrl.blackWhiteNewTopoMatrixImageData"></matrix-image>
        </div>
    </div>
</div>